(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(36)},36:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(13),o=t.n(u),c=t(2),l=t(3),i=t.n(l),m="/api/persons",s=function(){return i.a.get(m).then((function(e){return e.data}))},d=function(e){return i.a.post(m,e).then((function(e){return e.data}))},f=function(e,n){return i.a.put("".concat(m,"/").concat(e),n)},b=function(e){i.a.delete("".concat(m,"/").concat(e))},p=function(e){var n=e.filter,t=e.handler;return r.a.createElement("div",null," filter shown with ",r.a.createElement("input",{value:n,onChange:t})," ")},h=function(e){var n=e.submitAction,t=e.nameInput,a=e.nameHandler,u=e.numberInput,o=e.numberHandler;return r.a.createElement("form",{onSubmit:n},r.a.createElement("h1",null,"add a new..."),r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:t,onChange:a})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:u,onChange:o})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},v=function(e){var n=e.name,t=e.number,a=e.deleteHandler;return r.a.createElement("div",null,n," ",t," ",r.a.createElement("button",{onClick:a},"delete"))},E=function(e){var n=e.filter,t=e.persons,a=e.deleteHandler;return r.a.createElement("div",null,r.a.createElement("h2",null,"Numbers"),t.map((function(e){if(e.name.toLowerCase().includes(n.toLowerCase())||e.number.includes(n))return r.a.createElement(v,{key:e.id,name:e.name,number:e.number,deleteHandler:function(){return a(e.id)}})})))},g=function(e){var n=e.message;return null==={message:n}?null:r.a.createElement("div",{style:{color:"green",fontSize:16,backgroundColor:"lightGray",borderRadius:5,padding:10,marginBottom:15}},n)},w=function(){var e=Object(a.useState)(""),n=Object(c.a)(e,2),t=n[0],u=n[1],o=Object(a.useState)([]),l=Object(c.a)(o,2),i=l[0],m=l[1],v=Object(a.useState)(""),w=Object(c.a)(v,2),j=w[0],O=w[1],k=Object(a.useState)(""),H=Object(c.a)(k,2),C=H[0],S=H[1],y=Object(a.useState)(null),I=Object(c.a)(y,2),T=I[0],A=I[1];Object(a.useEffect)((function(){s().then((function(e){return m(e)}))}),[]);return r.a.createElement("div",null,r.a.createElement(g,{message:T}),r.a.createElement("h2",null,"Phonebook"),r.a.createElement(p,{value:t,handler:function(e){u(e.target.value)}}),r.a.createElement(h,{submitAction:function(e){e.preventDefault();var n={name:j,number:C};if(i.map((function(e){return e.name})).includes(n.name)){if(window.confirm("".concat(n.name," is in the phonebook. Update number?"))){var t=i.find((function(e){return e.name===n.name})).id;f(t,n).then((function(){m(i.map((function(e){return e.name!==n.name?e:n}))),O(""),S(""),A("".concat(n.name,"'s number has been updated")),setTimeout((function(){A(null)}),3e3)})).catch((function(e){O(""),S(""),A(e.response.data.error),setTimeout((function(){A(null)}),3e3),console.log(e.response.data)}))}}else d(n).then((function(e){m(i.concat(e)),O(""),S(""),A("Person added to phonebook"),setTimeout((function(){A(null)}),3e3)})).catch((function(e){O(""),S(""),A(e.response.data.error),setTimeout((function(){A(null)}),3e3),console.log(e.response.data)}))},nameInput:j,nameHandler:function(e){O(e.target.value)},numberInput:C,numberHandler:function(e){S(e.target.value)}}),r.a.createElement(E,{filter:t,persons:i,deleteHandler:function(e){window.confirm("Do you want to delete this person?")&&(b(e),m(i.filter((function(n){return n.id!==e}))))}}))};o.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.c919a289.chunk.js.map